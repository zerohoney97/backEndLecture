<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <script
    crossorigin
    src="https://unpkg.com/react@18/umd/react.development.js"
  ></script>
  <script
    crossorigin
    src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
  ></script>
  <!-- React,ReactDOM라이브러리 -->
  <!-- Babel을 가져와서 JSX 문법을 사용 -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <body>
    <div id="root"></div>
  </body>
  <script type="text/babel">


    class Clock extends React.Component {
      constructor(props) {
        super(props);
        this.state = {
          time: new Date().toLocaleTimeString(),
        };
      }

      // react 생명주기
      // react생명주기란 화면이 그려지는 시기와 state값이 변했을 때 동작해야하는 작업이 있을 경우
      // 화면이 그려지는 시기와 state값이 변했을 때 동작해야하는 작업이 있을경우
      // 이런 부분을 제어 할 수있게 해주는 것이 lifecycle 함수이다.
      update() {
        setState({});
        // 아직 변경전 상태가 찍힘
        // console.log(this.state);
      }
      componentDidMount() {
        // 여기 내용이 컴포넌트가 생성되면 호출됨 딱 최초에 한 번
        setInterval(() => {
          this.setState({ time: new Date().toLocaleTimeString() });
        }, 1000);
        console.log("최초 한 번 실행됨");
        // 최초 한 번 실행됨
      }
      componentDidUpdate() {
        console.log("state updated!");
      }
      render() {
        return (
          <>
            <h1>안뇽, 내 컴퓨터 시간</h1>
            <h2>time:{this.state.time}</h2>
          </>
        );
      }
    }
    const root = ReactDOM.createRoot(document.querySelector("#root"));
    root.render(<Clock></Clock>);
  </script>
</html>
